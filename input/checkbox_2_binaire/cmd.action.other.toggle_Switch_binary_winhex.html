<div class="Doc-#id# cursor cmd tooltips cmd-widget container-fluid" data-type="action" data-cmd_id="#id#" data-cmd_uid="#uid#">
<center>
  	<div class="title #hide_name#">
		<div class="cmdName">#name_display#</div>
	</div>
  <label class="switch">
      <input type="checkbox" id="check#id#" onchange="jeedom.cmd.execute({id: '#id#'});">
      <div class="slider round"></div>
   </label>
</center>
<style>
  :root{ 
 --background-color-on: #94CA02;    
  --background-color-off: #a6a6a6;     
}    
  .cmd[data-cmd_id="#id#"] .switch {
  position: relative;
  display: block;
  top: 5px;
  width: 44px;
  height: 24px;
}
  .cmd[data-cmd_id="#id#"] .switch input {display:none;}
  .cmd[data-cmd_id="#id#"] .slider {

  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
    background-color: var(--background-color-off);  
  -webkit-transition: .4s;
  transition: .4s;
border: 1px solid #FFFFFF;
}

  .cmd[data-cmd_id="#id#"] .slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 2px;
  bottom: 1px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;

}


  .cmd[data-cmd_id="#id#"] input:checked + .slider {
  background-color: var(--background-color-on);
}

  .cmd[data-cmd_id="#id#"] input:checked + .slider:before {

  -webkit-transform: translateX(20px);
  -ms-transform: translateX(20px);
  transform: translateX(20px);
}


  .cmd[data-cmd_id="#id#"] .slider.round {
  border-radius: 20px;
}

  .cmd[data-cmd_id="#id#"] .slider.round:before {
  border-radius: 50%;
}

</style>

<script>

         jeedom.cmd.addUpdateFunction('#id#',function(_options) {
        var cmd = $('.cmd[data-cmd_id=#id#]');
    
    testcolor = ("#couleur#" == '#'+'couleur#');
	if (testcolor != true) {
$('.cmd[data-cmd_id=#id#] .slider').css({'--background-color-on': '#couleur#' });
    }
    testcolor_off = ("#couleur2#" == '#'+'couleur2#');
	if (testcolor_off != true) {
$('.cmd[data-cmd_id=#id#] .slider').css({'--background-color-off': '#couleur2#' });
    }
    
  if (_options.display_value == '1' || _options.display_value == 1 || _options.display_value == '99' || _options.display_value == 99 || _options.display_value == 'on') {document.getElementById('check#id#').checked = true;
      if (jeedom.cmd.normalizeName('#name#') == 'on') {
        cmd.hide();
      }else{
          cmd.show();
      }
    } else {
      document.getElementById('check#id#').checked = false;
        if (jeedom.cmd.normalizeName('#name#') == 'off') {
        cmd.hide();
      }else{
          cmd.show();
      }
    }
  })
jeedom.cmd.refreshValue([{cmd_id :'#id#',display_value: '#state#', valueDate: '#valueDate#', collectDate: '#collectDate#', alertLevel: '#alertLevel#'}])

</script>
</div>
